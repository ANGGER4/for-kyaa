<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Untuk Rizkia Devi ‚ù§Ô∏è</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #fce7f3 0%, #fbcfe8 100%);
            overflow: hidden; 
            touch-action: none; 
        }
        .font-handwriting {
            font-family: 'Dancing Script', cursive;
        }
        /* Container utama kita buat relative agar tombol terkurung di sini */
        .glass-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.7);
            box-shadow: 0 10px 40px 0 rgba(31, 38, 135, 0.15);
            position: relative; 
            transition: height 0.3s ease;
        }
        @keyframes heartbeat {
            0% { transform: scale(1); }
            15% { transform: scale(1.15); }
            30% { transform: scale(1); }
            45% { transform: scale(1.15); }
            60% { transform: scale(1); }
        }
        .heart-beat {
            animation: heartbeat 2s infinite;
        }
        
        /* Tombol Tidak */
        #btn-no {
            transition: all 0.2s ease; /* Gerakan lebih cepat & responsif */
            z-index: 50;
        }

        #overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: 40; background: transparent; display: block;
        }
    </style>
</head>
<body class="h-screen flex items-center justify-center relative select-none">

    <audio id="bg-music" loop>
        <source src="musik.mp3" type="audio/mpeg">
    </audio>

    <div id="overlay" onclick="startMusic()"></div>

    <div class="absolute top-10 left-10 text-pink-400 text-7xl opacity-30 animate-pulse">‚ô•</div>
    <div class="absolute bottom-20 right-20 text-pink-500 text-9xl opacity-20 animate-pulse">‚ô•</div>

    <div class="glass-card rounded-3xl p-6 w-full max-w-sm text-center mx-4 flex flex-col justify-center min-h-[400px]" id="card-container">
        
        <div id="section-intro">
            <div class="text-pink-500 text-5xl mb-4 heart-beat">üíå</div>
            <h1 class="font-handwriting text-5xl text-pink-600 mb-2">Halo, Kyaa...</h1>
            <p class="text-gray-600 mb-8 leading-relaxed text-sm">
                Ada lagu yang ingin aku putar,<br>
                dan satu pertanyaan penting.<br>
                Klik tombol di bawah ya...
            </p>
            <button onclick="nextSection()" class="bg-gradient-to-r from-pink-400 to-pink-600 hover:from-pink-500 hover:to-pink-700 text-white font-bold py-3 px-8 rounded-full shadow-lg transition transform hover:scale-105 z-50 relative">
                Buka Pesan Ini üåπ
            </button>
        </div>

        <div id="section-question" class="hidden opacity-0 transition-opacity duration-700 h-full flex flex-col justify-between">
            <div>
                <h2 class="font-handwriting text-4xl text-pink-600 mb-3">Untuk Kamu, Cintaku...</h2>
                <p class="text-gray-700 mb-4 italic text-xs">
                    "Kamu adalah bukti dari cantiknya paras dan hati.<br>
                    Kau jadi harmoni saat ku tak mampu berkata."
                </p>
                <p class="font-bold text-gray-800 text-lg mb-4">
                    Depiiiiii,<br>kamuu mauu kann jadi pacar aku?
                </p>
            </div>
            
            <div class="w-full h-32 relative flex items-center justify-center">
                
                <button onclick="acceptLove()" class="absolute bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-6 rounded-full shadow-lg z-20">
                    Iya, Mau! ‚ù§Ô∏è
                </button>
                
                <button id="btn-no" 
                        onmouseover="moveButton()" 
                        ontouchstart="moveButton()" 
                        onclick="moveButton()" 
                        class="absolute bg-gray-400 text-white font-bold py-2 px-6 rounded-full shadow-lg cursor-default"
                        style="right: 20px;">
                    Gak Dulu
                </button>
            </div>
        </div>

        <div id="section-success" class="hidden">
            <div class="text-6xl mb-4 heart-beat">üíñ</div>
            <h1 class="font-handwriting text-5xl text-pink-600 mb-2">üíñSo Sweeettüíñ</h1>
            <p class="text-gray-700 text-lg leading-relaxed mb-6">
                Makasih yahh udah nerima aku.<br>
                Walau banyak kurangnya, sering jealous.<br>
                Semoga kita jadi pasangan yang saling melengkapiiüíñ<br>
                <i>I Love You, Kyadeviiii!</i>
            </p>
            <div class="text-xs text-pink-400 border-t border-pink-200 pt-4">
                Screenshot layar ini & kirim ke WA aku ya!
            </div>
        </div>

    </div>

    <script>
        const audio = document.getElementById("bg-music");
        let hasMusicStarted = false;

        function startMusic() {
            if (!hasMusicStarted) {
                audio.volume = 0.7;
                audio.play().then(() => {
                    hasMusicStarted = true;
                    document.getElementById('overlay').style.display = 'none';
                }).catch(err => console.log("Menunggu interaksi..."));
            }
        }

        window.onload = startMusic;

        function nextSection() {
            startMusic();
            const intro = document.getElementById('section-intro');
            const question = document.getElementById('section-question');
            
            intro.style.display = 'none';
            question.classList.remove('hidden');
            setTimeout(() => { question.classList.remove('opacity-0'); }, 50);
        }

        // --- LOGIKA BARU TOMBOL LARI (VERSI JINAK) ---
        function moveButton() {
            const btn = document.getElementById('btn-no');
            const container = document.getElementById('card-container');
            
            // Dapatkan ukuran kotak kartu (batas gerak)
            const rect = container.getBoundingClientRect();
            const btnRect = btn.getBoundingClientRect();
            
            // Hitung batas maksimal (agar tetap di dalam kartu)
            // Kita kurangi sedikit (padding) agar tidak nempel banget ke pinggir
            const maxX = rect.width - btnRect.width - 20; 
            const maxY = rect.height - btnRect.height - 20;

            // Generate posisi acak tapi DI DALAM KARTU
            const randomX = Math.random() * maxX;
            const randomY = Math.random() * maxY;

            // Terapkan posisi baru
            // Gunakan 'absolute' relatif terhadap kartu, bukan layar
            btn.style.position = 'absolute'; 
            btn.style.left = randomX + 'px';
            btn.style.top = randomY + 'px';
        }

        function acceptLove() {
            document.getElementById('section-question').classList.add('hidden');
            document.getElementById('section-success').classList.remove('hidden');
            spawnConfetti();
        }

        function spawnConfetti() {
            for(let i=0; i<30; i++) {
                setTimeout(() => {
                    const heart = document.createElement('div');
                    heart.innerHTML = '‚ù§Ô∏è';
                    heart.style.position = 'fixed';
                    heart.style.left = Math.random() * 100 + 'vw';
                    heart.style.top = '-50px';
                    heart.style.fontSize = Math.random() * 30 + 10 + 'px';
                    heart.style.transition = 'top 3s ease-in, opacity 3s';
                    heart.style.zIndex = '100';
                    document.body.appendChild(heart);
                    
                    setTimeout(() => {
                        heart.style.top = '110vh';
                        heart.style.opacity = '0';
                    }, 100);
                    
                    setTimeout(() => { heart.remove(); }, 3000);
                }, i * 100);
            }
        }
    </script>
</body>
</html>